[package]
name = "agnostic_async_executor"
version = "0.1.0"
authors = ["Pablo Guerrero", "David Craven <david@craven.ch>"]
edition = "2018"
license = "MIT OR Apache-2.0"
description = "Agnostic Rust Async Executor"
repository = "https://github.com/siriux/agnostic_async_executor"

[features]
async_std_executor = ["async-std"]
tokio_executor = ["tokio/rt-multi-thread", "futures/executor"]
smol_executor = ["smol"]
futures_executor = ["futures/thread-pool"]
wasm_bindgen_executor = ["wasm-bindgen-futures", "futures/executor"]

[dependencies]
futures = { version = "^0.3", default-features = false, optional = true }
async-std = { version = "^1.9", features = ["attributes", "unstable"], optional = true }
tokio = { version = "^1.1", features = ["macros"], optional = true }
smol = { version = "^1.2", optional = true }
wasm-bindgen-futures = { version = "^0.4", optional = true }

[dev-dependencies]
# This needs to be commented to run the wasm tests, uncomment it for easier development and simple cargo test (this might change when this is fixed https://github.com/rustwasm/wasm-pack/issues/698)
#agnostic_async_executor = { path = ".", features = ["async_std_executor", "tokio_executor", "smol_executor", "futures_executor"] }

[target.wasm32-unknown-unknown.dev-dependencies]
agnostic_async_executor = { path = ".", features = ["wasm_bindgen_executor"] }
wasm-bindgen-test = "^0.3"